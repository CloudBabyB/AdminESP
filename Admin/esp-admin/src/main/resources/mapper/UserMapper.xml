<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="UserMapper">

	<!--表名 -->
	<sql id="tableName">
		admin_user
	</sql>

	
	<!-- 字段 -->
	<sql id="Field">
		  id,
		  username,
		  password,
		  real_name,
		  deleted,
		  birthday,
		  email,
		  telphone,
		  office_phone,
		  qq
	</sql>
	
	<!-- 字段值 -->
	<sql id="FieldValue">
		  #{id},
		  #{username},
		  #{password},
		  #{real_name},
		  #{deleted},
		  #{birthday},
		  #{email},
		  #{telphone},
		  #{office_phone},
		  #{qq}
	</sql>
	<!--新增-->
	<insert id="save" parameterType="pd">
	INSERT INTO
		<include refid="tableName"></include>
	(
		<include refid="Field"></include>
	)
 	 VALUES
	(
		<include refid="FieldValue"></include>
	)
	</insert>
	<!--删除-->
	<update id="deleted" parameterType="pd">
		UPDATE
			<include refid="tableName"></include>
		SET 
			deleted = 'Y'
		WHERE  id = #{id}
	</update>
	<!--修改-->
	<update id="update" parameterType="pd">
		UPDATE
			<include refid="tableName"></include>
		SET
			username = #{username},
			password = #{password},
			real_name = #{real_name},
			deleted = #{deleted},
			birthday = #{birthday},
			email = #{email},
			telphone = #{telphone},
			office_phone = #{office_phone},
			qq = #{qq}
		WHERE
			id = #{id}
	</update>

	<!--列表显示-->
	<select id="find" resultType="pd" parameterType="pd">
		SELECT
			<include refid="Field"></include>
		FROM
			<include refid="tableName"></include>
		WHERE
			deleted = 'N'
		<if test="id != null and id != ''">
			AND id = #{id}
		</if>
	</select>


</mapper>